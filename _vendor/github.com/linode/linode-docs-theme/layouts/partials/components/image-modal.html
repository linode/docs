<div x-data="{ open: false, hover:false, src: '' }">
  <figure class="{{ with .class }}{{ . }}{{ end }}" @click="open = ! open; $event.preventDefault();" @keydown.escape.window="open = false" @mouseenter="hover = true" @mouseleave="hover = false">
    <div class="relative w-full text-brand cursor-pointer">
      <div class="">
        {{ .imgTag }}
      </div>
      <div  x-show.transition="hover" class="hide-if-no-js absolute bg-gray-100 bg-opacity-25 p-3 rounded-full" style="bottom: 2rem; right: 2rem;">
        <svg class="h-5 w-5">
          <use href="#icon--search"></use>
        </svg>
      </div>
    </div>
  </figure>
  <div class="hide-if-no-js">
    <div x-show.transition.opacity="open"
          class="fixed flex justify-center items-center inset-0 bg-black bg-opacity-75" style="z-index: 9999;">
      <div x-show.transition="open"
              class="content relative mx-4 w-auto max-w-7xl bg-transparent overflow-auto" style="max-height: 80%;">
        <template x-if="open">
          <img src="{{ .img.RelPermalink }}" alt="{{ $.alt }}" class="w-full rounded-xl shadow-lg" @click.away="open = false">
        </template>
        <svg  class="h-6 w-6 absolute text-white hover:text-brand cursor-pointer" style="top: 0rem; right: 0rem;">
          <use href="#icon--times"></use>
        </svg>
      </div>
    </div>
  </div>
</div>
