(()=>{var h=document.querySelector("html"),l,g=function(){l=document.querySelector(".c-site-header"),l&&(E(),b())},u=function(){document.documentElement.style.setProperty("--site-scroll-y",window.scrollY+"px")},E=function(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",u):u(),window.addEventListener("scroll",u),l.addEventListener("toggle:on",function(e){d(!1)}),l.addEventListener("toggle:off",function(e){d(!0)}),document.addEventListener("keyup",function(e){switch(e.keyCode){case 27:l.querySelectorAll(".active").forEach(t=>t.classList.remove("active")),document.activeElement.blur(),d(!0);break}})},b=function(){var e=window.location.pathname;if(e!=="/"){e.match(/^\/community\/questions\/.+/)?e="/community/questions/":e.match(/^\/docs\/.+/)?e="/docs/":e.match(/^\/blog|marketplace\/.+/)?e=e.replace(/^\/([^\/]+)\/.+/,"/$1/"):e.match(/^\/event\/.+/)?e="/events/":e.match(/^\/content|content-type|featuring|resources|series\/.+/)?e="/resources/":e.match(/^\/media\-coverage|press\-release\/.+/)&&(e="/company/press/");var t=l.querySelectorAll(':scope a.o-menu__link[href*="'+e+'"');t&&Array.from(t).forEach(n=>{if(!n.getAttribute("href").split(/[?#]/)[0].endsWith(e))return;n.classList.add("current");const r=n.closest(".c-submenu");if(r===null)return;const i=l.querySelectorAll(`:scope [data-toggle="#${r.id}"]`);Array.from(i).forEach(c=>c.classList.add("current"))})}},d=function(e){h.style.overflow=e?"":"hidden"};h.classList.contains("fl-builder-edit")||g(),document.addEventListener("turbolinks:render",function(e){g()});function L(e){if(!e.ok){let t="";throw e.statusText?t=e.statusText:e.status===404?t="Resource not found":t="Problem fetching resource",new Error(`${t} (${e.url})`)}return e}var _=["de","es","fr","it","ja","ko","pt","zh"];function $(){let e=document.documentElement.lang;return e&&_.includes(e)?e:""}function C(e,t=["b","br","em","i","span","strong","u"]){let n=document.createElement("div");n.textContent=e;let r=n.innerHTML,i=new RegExp(`&lt;(/?(${t.join("|")}))&gt;`,"gi");return r=r.replace(i,"<$1>"),r}var w,v=function(){let e="https://www.linode.com/wp-json/linode/v1/header-featured",t=$();t&&(e=`https://www.linode.com/${t}/wp-json/linode/v1/header-featured?lang=${t}`),fetch(e).then(L).then(n=>n.json()).then(n=>k(n)).catch(n=>console.log(n))},k=function(e){e.forEach(t=>{let n=document.querySelector('.c-site-header [data-featured="'+t.slot+'"]');if(!n)return;let r=x(t);if(r){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(r)}})},p=function(e){let t=document.createElement("img");return t.src=e.src,t.width=e.width,t.height=e.height,t.loading="lazy",t.fetchPriority="low",e.alt&&(t.alt=e.alt),e.srcset&&(t.srcset=e.srcset),e.sizes&&(t.sizes=e.sizes),t},x=function(e){let t=document.createElement("div"),n=document.createElement("h6"),r=document.createElement("a"),i=document.createElement("div"),c=document.createElement("div"),s=document.createElement("div"),f=document.createElement("span"),m=document.createElement("style");if(n.textContent=e.eyebrow,r.classList.add("c-featured"),r.id=`c-featured--${e.slot}`,r.href=e.link_url,r.setAttribute("style",e.wrap_styles),r.setAttribute("data-analytics-event",`${e.ga_category} | ${e.ga_action} | ${e.ga_label}`),i.classList.add("c-featured__text"),c.classList.add("c-featured__headline"),c.innerHTML=C(e.headline),s.classList.add("c-featured__excerpt"),s.innerHTML=e.excerpt,f.classList.add("c-featured__button"),f.textContent=e.link_text,m.type="text/css",m.textContent=e.css,i.appendChild(c),i.appendChild(s),i.appendChild(f),e.background_image.src){let o=p(e.background_image);o.classList.add("c-featured__background"),r.appendChild(o)}if(e.foreground_image.src){let o=p(e.foreground_image);o.classList.add("c-featured__image"),r.appendChild(o)}return r.appendChild(i),t.appendChild(n),t.appendChild(r),t.appendChild(m),t},w=document.querySelector("html");w.classList.contains("fl-builder-edit")||v(),document.addEventListener("turbolinks:render",function(e){v()});var a=document.querySelector("html"),y=function(){S()},S=function(){a.addEventListener("click",q)},q=function(e){const t=e.target.closest("[data-toggle]");if(t===null||e.target.closest("form")!==null)return;const n=t.dataset.toggle?a.querySelector(t.dataset.toggle):t;if(n===null)return;const r=e.target.closest("a");if(r)if(r===t)e.preventDefault();else{const i=new URL(r.getAttribute("href"));if(i&&i.pathname!==window.location.pathname)return;r.blur()}A(n,t)},A=function(e,t){const n=e.classList.contains("active"),r=e.dataset.group,i=r?a.querySelectorAll('[data-group="'+r+'"].active'):null,c=new CustomEvent("toggle:"+(n?"off":"on"),{bubbles:!0});i&&i.forEach(s=>s.classList.remove("active")),n?t.blur():(e.classList.add("active"),t.classList.add("active")),e.dispatchEvent(c)};a.classList.contains("fl-builder-edit")||y(),document.addEventListener("turbolinks:render",function(e){y()}),window.addEventListener("click",e=>{(e.target.matches('a[href*="#open-consent-prefs"]')||e.target.matches("span#open-consent-prefs"))&&(e.preventDefault(),typeof window.OneTrust<"u"&&window.OneTrust.ToggleInfoDisplay())})})();
