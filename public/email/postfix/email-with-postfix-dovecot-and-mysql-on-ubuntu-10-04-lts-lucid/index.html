<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Email with Postfix, Dovecot and MySQL on Ubuntu 10.04 LTS (Lucid)</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="description" content="Setting up a mail server with Postfix, Dovecot and MySQL on Ubuntu 10.04 LTS (Lucid).">
        <meta name="keywords" content="postfix ubuntu 10.04, dovecot ubuntu 10.04, ubuntu 10.04 mail server, dovecot, email, ubuntu, lucid">
        
        <meta property="og:title" content="Email with Postfix, Dovecot and MySQL on Ubuntu 10.04 LTS (Lucid)">
        <meta property="og:type" content="article">
        <meta property="og:url" content="https://linode.com/docs/email/postfix/email-with-postfix-dovecot-and-mysql-on-ubuntu-10-04-lts-lucid/">
        <meta property="og:description" content="Setting up a mail server with Postfix, Dovecot and MySQL on Ubuntu 10.04 LTS (Lucid).">
        <meta property="og:site_name" content="Linode Guides &amp; Tutorials">
        
        
        <meta name="twitter:card" content="summary">
        
        <meta name="twitter:site" content="@linode">
        <link rel="alternate" type="application/rss" href="https://linode.com/docs/index.xml">

        
             <link href="/docs/build/stylesheets/home.css" rel='stylesheet' type='text/css'>

        
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <link href='//fonts.googleapis.com/css?family=Lato:300,400,700,900' rel='stylesheet' type='text/css'>
        <link rel="canonical" href="https://linode.com/docs/email/postfix/email-with-postfix-dovecot-and-mysql-on-ubuntu-10-04-lts-lucid/">
        <link rel="shortcut icon" href="/favicon.ico">
    </head>
    <body class="no-subnav">
         <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="searchLabel" id="ds-search-modal">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div id="ds-search-input">
				<div class="input-group col-md-12">
					<input id="ds-search" type="text" class="form-control input-lg" placeholder="Search" />
					<span class="input-group-btn">
						<button class="btn btn-info btn-lg" id="ds-search-btn-modal" type="button">
						<i class="glyphicon glyphicon-search"></i>
						</button>
					</span>
				</div>
				<ul class="list-group" id="ds-search-list">
				</ul>
			</div>
		</div>
	</div>
</div> 
         
        <header>
            <nav id="main-nav" class="navbar navbar-default" role="navigation">
  <div class="container">

    <div class="navbar-header">
      <button type="button" class="toggle navbar-toggle" data-toggle="collapse" data-target=".navbar-top-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="https://www.linode.com"><img id="navbar-logo" src="/docs/media/images/header/linode-logo.svg" style="height:57px"></a>
    </div>

    <div class="collapse navbar-collapse navbar-top-collapse">
      <ul class="nav navbar-nav navbar-right">

                <li><a href="https://www.linode.com/"><span class='nav-home'></span></a></li>
                <li><a href="https://www.linode.com/linodes">Features</a></li>
                <li><a href="https://www.linode.com/pricing">Pricing</a></li>
                <li><a href="https://www.linode.com/addons">Add-ons</a></li>

        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Resources <span class="caret"></span></a>
          <ul class="dropdown-menu dropdown-main-nav dropdown-mega">
            <li class="dropdown-third">
              <ul >
                <li><a href="https://linode.com/docs/getting-started">Getting Started</a></li>
                <li><a href="https://linode.com/docs/migrate-from-shared">Migrating to Linode</a></li>
                <li><a href="https://linode.com/docs/hosting-website">Hosting a Website</a></li>
                <li class="divider"></li>
                <li class="big"><a href="https://linode.com/docs"><i class="fa fa-book"></i> Guides &amp; Tutorials</a></li>
                <li class="divider visible-xs"></li>
              </ul>
            </li>
            <li class="dropdown-third middle">
              <ul >
                <li><a href="https://www.linode.com/api">API</a></li>
                <li><a href="https://www.linode.com/stackscripts">StackScripts</a></li>
                <li><a href="https://www.linode.com/mobile">Mobile</a></li>
                <li><a href="https://www.linode.com/cli" target="_blank">CLI</a></li>

                <li class="divider"></li>

                <li><a href="https://www.linode.com/chat"><i class="fa fa-bullhorn gray"></i> Chat</a></li>
                <li><a href="https://forum.linode.com"><i class="fa fa-comments"></i> Community Forum</a></li>
                <li class="divider visible-xs"></li>
              </ul>
            </li>
            <li class="dropdown-third">
              <ul >
                <li><a href="https://blog.linode.com">Blog</a></li>
                <li><a href="http://status.linode.com">System Status</a></li>
                <li><a href="https://www.linode.com/speedtest">Speed Test</a></li>
                <li><a href="https://www.linode.com/about">About Us</a></li>
                <li class="divider"></li>
                <li><a href="https://www.linode.com/contact"><i class="fa fa-user"></i> Contact Support</a></li>
              </ul>
            </li>
          </ul>
        </li>

        <li role="presentation" class="divider-vertical"><span>|</span></li>
          <li class=""><a href="https://manager.linode.com/">Log in <span class="login-caret"></span></a></li>
          <li class="visible-xs"><a href="https://manager.linode.com/session/signup">Sign up</a></li>
          <li class="hidden-xs"><div><a id="btn-signup-top" class="btn btn-sm btn-green navbar-btn hidden-xs" href="https://manager.linode.com/session/signup">Sign up</a></div></li>
      </ul>
    </div>

  </div>
</nav>

            <nav class="navbar subnav jumbotron" role="navigation">
  <div class="container">
    <div class="subnav-divider">

    </div>
  </div>
</nav>
        </header>
        
<section class="primary first-section">
  <div class="container">
    <div class="row breadcrumb-row">
  <div class="col-sm-12">
    <ol class="breadcrumb library-breadcrumb">
      







<li>
  
  <a href="https://linode.com/docs/">Guides &amp; Tutorials</a>
  
</li>


<li>
  
  <a href="https://linode.com/docs/email/">Email Server Guides</a>
  
</li>


<li>
  
  <a href="https://linode.com/docs/email/postfix/">Postfix</a>
  
</li>


<li>
  
  Email with Postfix, Dovecot and MySQL on Ubuntu 10.04 LTS (Lucid)
  
</li>

    </ol>
  </div>
</div>

    <div class="row" itemscope itemtype="http://schema.org/TechArticle">
      <div class="col-sm-12">
        <div class="row">
          <div class="col-sm-9 col-sm-offset-3">
          </div>
        </div>
        <div class="row">
          <div id="article-body" class="col-sm-9 col-sm-push-3 doc">
            <h1 class="doc-title" itemprop="headline">Email with Postfix, Dovecot and MySQL on Ubuntu 10.04 LTS (Lucid)</h1>
<p markdown="0" class="doc-time doc-modified-time">
  <small class="updated">Updated <time itemprop="dateModified" datetime="2013-05-13T00:00:00Z">Monday, May 13, 2013</time> by Linode</small>
  
</p>

           <div class="row">
            <div class="col-sm-9"><div markdown="0" class="signup-top">
    <span>
        Use promo code <strong>DOCS10</strong> for $10 credit on a new account.
    </span>
    <form action="https://manager.linode.com/session/signup" style="display: inline">
        <button type="submit" target="_blank" class="btn btn-blue btn-sm btn-border">Try this Guide</button>
    </form>
</div>
</div>
            <div class="col-sm-3"><div class="social-share">
    <div class="btn-group share-group">
        <a data-toggle="dropdown" class="btn btn-info">
            <i class="fa fa-share-alt fa-inverse"></i>
        </a>
        <button href="#" data-toggle="dropdown" class="btn btn-info dropdown-toggle share">
        <span class="caret"></span>
        </button>
        <ul class="dropdown-menu">
            <li>
                <a data-original-title="Twitter" rel="tooltip"  href="https://twitter.com/share?url=https%3a%2f%2flinode.com%2fdocs%2femail%2fpostfix%2femail-with-postfix-dovecot-and-mysql-on-ubuntu-10-04-lts-lucid%2f&via=linode&text=Email%20with%20Postfix%2c%20Dovecot%20%e2%80%a6" class="btn btn-twitter" data-placement="left" target="_blank" rel="noopener">
                    <i class="fa fa-twitter"></i>
                </a>
            </li>
            <li>
                <a data-original-title="Facebook" rel="tooltip"  href="http://www.facebook.com/sharer.php?u=https%3a%2f%2flinode.com%2fdocs%2femail%2fpostfix%2femail-with-postfix-dovecot-and-mysql-on-ubuntu-10-04-lts-lucid%2f" class="btn btn-facebook" data-placement="left" target="_blank" rel="noopener">
                    <i class="fa fa-facebook"></i>
                </a>
            </li>
            <li>
                <a data-original-title="Hacker News" rel="tooltip"  href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2flinode.com%2fdocs%2femail%2fpostfix%2femail-with-postfix-dovecot-and-mysql-on-ubuntu-10-04-lts-lucid%2f&t=Email%20with%20Postfix%2c%20Dovecot%20and%20MySQL%20on%20Ubuntu%2010.04%20LTS%20%28Lucid%29" class="btn btn-hacker-news" data-placement="left" target="_blank" rel="noopener">
                    <i class="fa fa-hacker-news "></i>
                </a>
            </li>
        </ul>
    </div>
</div></div>
            </div>
            <div class="library-github" markdown="0">
	<i class="fa fa-github"></i>
	<strong>Contribute on GitHub</strong>
	<p>
		
		<a href="https://github.com/linode/docs">View Project</a> |
		<a href="https://github.com/linode/docs/blob/master/docs/email/postfix/email-with-postfix-dovecot-and-mysql-on-ubuntu-10-04-lts-lucid.md">View File</a> |
		<a href="https://github.com/linode/docs/edit/master/docs/email/postfix/email-with-postfix-dovecot-and-mysql-on-ubuntu-10-04-lts-lucid.md">Edit File</a>
	</p>
</div>
            
            
<blockquote class="deprecated">
	<strong class="callout-title">Deprecated</strong>
	<div>This guide has been deprecated and is no longer being maintained.</div>
	<div>
		
	</div>
</blockquote>


            

<p>The Postfix Mail Transfer Agent (MTA) is a high performance open source e-mail server system. This guide will help you get Postfix running on your Linode, using Dovecot for IMAP/POP3 service and MySQL to store information on virtual domains and users. This guide is largely based on Christoph Haas&rsquo;s great <a href="http://workaround.org/ispmail/lenny">ISP-style Email Server with Debian-Lenny and Postfix 2.5 guide</a> and HowtoForge <a href="http://www.howtoforge.com/groupware-server-with-group-office-postfix-dovecot-spamassassin-on-debian-lenny">Groupware Server With Group-Office, Postfix, Dovecot And SpamAssassin On Debian Lenny (5.0)</a>, with some packages omitted.</p>

<p>It is assumed that you have followed the steps outlined in our <a href="/docs/getting-started/">getting started guide</a>. All configuration will be performed in a terminal session; make sure you&rsquo;re logged into your Linode as root via SSH.</p>

<p><strong>NOTE: Please read all of the information presented in this guide carefully.</strong> There are many files and commands that will need to be edited as part of the setup process: please do not simply copy and paste the example blocks.</p>

<h1 id="set-the-hostname">Set the Hostname</h1>

<p>Before you begin installing and configuring the components described in this guide, please make sure you&rsquo;ve followed our instructions for <a href="/docs/getting-started#setting-the-hostname">setting your hostname</a>. Issue the following commands to make sure it is set properly:</p>

<pre><code>hostname
hostname -f
</code></pre>

<p>The first command should show your short hostname, and the second should show your fully qualified domain name (FQDN).</p>

<h1 id="install-required-packages">Install Required Packages</h1>

<p>Issue the following commands to install any outstanding package updates:</p>

<pre><code>apt-get update
apt-get upgrade
</code></pre>

<p>Issue the following command to get the required packages installed on your Linode:</p>

<pre><code>apt-get install postfix postfix-mysql postfix-doc mysql-client mysql-server dovecot-common dovecot-imapd dovecot-pop3d postfix libsasl2-2 libsasl2-modules libsasl2-modules-sql sasl2-bin libpam-mysql openssl telnet mailutils
</code></pre>

<p>This will install the Postfix mail server, the MySQL database server, the Dovecot IMAP and POP daemons, and several supporting packages that provide services related to authentication. You will be prompted to choose a root password for MySQL; make sure you select a strong password comprised of letters, numbers, and non-alphanumeric characters. Write this password down and keep it in a safe place for later reference.</p>

<p><a href="/docs/assets/68-postfix-courier-mysql-01-mysql-root-password.png"><img src="/docs/assets/68-postfix-courier-mysql-01-mysql-root-password.png" alt="Setting the root password for MySQL on a Linode." /></a></p>

<p>Next, you&rsquo;ll be prompted to select the type of mail server configuration you want for your Linode. Select &ldquo;Internet Site&rdquo; and continue.</p>

<p><a href="/docs/assets/69-postfix-courier-mysql-02-mail-server-type-2.png"><img src="/docs/assets/69-postfix-courier-mysql-02-mail-server-type-2.png" alt="Selecting the Postfix mail server configuration type on an Ubuntu 10.04 (Lucid) Linode." /></a></p>

<p>Now you&rsquo;ll need to set the system mail name. This should be a fully qualified domain name (FQDN) that points to your Linode&rsquo;s IP address. This example uses an example organization&rsquo;s domain. You should set the reverse DNS for your Linode&rsquo;s IP address to the fully qualified domain name you assign as the system mail name, while other domains you wish to host email for will be handled later through virtual domain setup steps.</p>

<p><a href="/docs/assets/70-postfix-courier-mysql-02-mail-server-type-3.png"><img src="/docs/assets/70-postfix-courier-mysql-02-mail-server-type-3.png" alt="Selecting the Postfix system mail name on an Ubuntu 10.04 (Lucid) Linode." /></a></p>

<p>This completes the initial package configuration steps. Next, you&rsquo;ll set up a MySQL database to handle virtual domains and users.</p>

<h1 id="set-up-mysql-for-virtual-domains-and-users">Set up MySQL for Virtual Domains and Users</h1>

<p>Start the MySQL shell by issuing the following command. You&rsquo;ll be prompted to enter the root password for MySQL that you assigned during the initial setup.</p>

<pre><code>mysql -u root -p
</code></pre>

<p>You&rsquo;ll be presented with an interface similar to the following:</p>

<pre><code>Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 45
Server version: 5.1.41-3ubuntu12.8 (Ubuntu)

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt;
</code></pre>

<p>Issue the following command to create a database for your mail server and switch to it in the shell:</p>

<pre><code>CREATE DATABASE mail;
USE mail;
</code></pre>

<p>Create a mail administration user called <code>mail_admin</code> and grant it permissions on the <code>mail</code> database with the following commands. Please be sure to replace &ldquo;mail_admin_password&rdquo; with a password you select for this user.</p>

<pre><code>GRANT SELECT, INSERT, UPDATE, DELETE ON mail.* TO 'mail_admin'@'localhost' IDENTIFIED BY 'mail_admin_password';
GRANT SELECT, INSERT, UPDATE, DELETE ON mail.* TO 'mail_admin'@'localhost.localdomain' IDENTIFIED BY 'mail_admin_password';
FLUSH PRIVILEGES;
</code></pre>

<p>Create the virtual domains table with the following command:</p>

<pre><code>CREATE TABLE domains (domain varchar(50) NOT NULL, PRIMARY KEY (domain) );
</code></pre>

<p>Create a table to handle mail forwarding with the following command:</p>

<pre><code>CREATE TABLE forwardings (source varchar(80) NOT NULL, destination TEXT NOT NULL, PRIMARY KEY (source) );
</code></pre>

<p>Create the users table with the following command:</p>

<pre><code>CREATE TABLE users (email varchar(80) NOT NULL, password varchar(20) NOT NULL, PRIMARY KEY (email) );
</code></pre>

<p>Create a transports table with the following command:</p>

<pre><code>CREATE TABLE transport ( domain varchar(128) NOT NULL default '', transport varchar(128) NOT NULL default '', UNIQUE KEY domain (domain) );
</code></pre>

<p>Exit the MySQL shell by issuing the following command:</p>

<pre><code>quit
</code></pre>

<p>Check that MySQL is set up to bind to localhost (127.0.0.1) by looking at the file <code>/etc/mysql/my.cnf</code>. You should have the following line in the configuration file:</p>

<dl class="file-excerpt">
<dt>

</dt>
<dd>


<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/etc/mysql/my.cnf</code></pre></td></tr></table>
</div>
</div>
</dd>
</dl>


<blockquote>
<p>bind-address = 127.0.0.1</p>
</blockquote>

<p>This is required for Postfix to be able to communicate with the database server. If you have MySQL set up to run on another IP address (such as an internal IP), you will need to substitute this IP address in place of <code>127.0.0.1</code> during the Postfix configuration steps. Please note that it is <em>not</em> advisable to run MySQL on a publicly-accessible IP address.</p>

<p>If you changed MySQL&rsquo;s configuration, restart the database server with the following command:</p>

<pre><code>service mysql restart
</code></pre>

<p>Next, you&rsquo;ll perform additional Postfix configuration to set up communication with the database.</p>

<h1 id="configure-postfix-to-work-with-mysql">Configure Postfix to work with MySQL</h1>

<p>Create a virtual domain configuration file for Postfix called <code>/etc/postfix/mysql-virtual_domains.cf</code> with the following contents. Be sure to replace &ldquo;mail_admin_password&rdquo; with the password you chose earlier for the MySQL mail administrator user.</p>

<dl class="file">
<dt>

</dt>
<dd>


<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/etc/postfix/mysql-virtual<span class="se">\_</span>domains.cf</code></pre></td></tr></table>
</div>
</div>
</dd>
</dl>

<blockquote>
<p>user = mail_admin password = mail_admin_password dbname = mail query = SELECT domain AS virtual FROM domains WHERE domain=&lsquo;%s&rsquo; hosts = 127.0.0.1</p>
</blockquote>

<p>Create a virtual forwarding file for Postfix called <code>/etc/postfix/mysql-virtual_forwardings.cf</code> with the following contents. Be sure to replace &ldquo;mail_admin_password&rdquo; with the password you chose earlier for the MySQL mail administrator user.</p>

<dl class="file">
<dt>

</dt>
<dd>


<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/etc/postfix/mysql-virtual<span class="se">\_</span>forwardings.cf</code></pre></td></tr></table>
</div>
</div>
</dd>
</dl>

<blockquote>
<p>user = mail_admin password = mail_admin_password dbname = mail query = SELECT destination FROM forwardings WHERE source=&lsquo;%s&rsquo; hosts = 127.0.0.1</p>
</blockquote>

<p>Create a virtual mailbox configuration file for Postfix called <code>/etc/postfix/mysql-virtual_mailboxes.cf</code> with the following contents. Be sure to replace &ldquo;mail_admin_password&rdquo; with the password you chose earlier for the MySQL mail administrator user.</p>

<dl class="file">
<dt>

</dt>
<dd>


<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/etc/postfix/mysql-virtual<span class="se">\_</span>mailboxes.cf</code></pre></td></tr></table>
</div>
</div>
</dd>
</dl>

<blockquote>
<p>user = mail_admin password = mail_admin_password dbname = mail query = SELECT CONCAT(SUBSTRING_INDEX(email,&lt;&lsquo;@&rsquo;&gt;,-1),&lsquo;/&rsquo;,SUBSTRING_INDEX(email,&lt;&lsquo;@&rsquo;&gt;,1),&lsquo;/&rsquo;) FROM users WHERE email=&lsquo;%s&rsquo; hosts = 127.0.0.1</p>
</blockquote>

<p>Create a virtual email mapping file for Postfix called <code>/etc/postfix/mysql-virtual_email2email.cf</code> with the following contents. Be sure to replace &ldquo;mail_admin_password&rdquo; with the password you chose earlier for the MySQL mail administrator user.</p>

<dl class="file">
<dt>

</dt>
<dd>


<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/etc/postfix/mysql-virtual<span class="se">\_</span>email2email.cf</code></pre></td></tr></table>
</div>
</div>
</dd>
</dl>

<blockquote>
<p>user = mail_admin password = mail_admin_password dbname = mail query = SELECT email FROM users WHERE email=&lsquo;%s&rsquo; hosts = 127.0.0.1</p>
</blockquote>

<p>Set proper permissions and ownership for these configuration files by issuing the following commands:</p>

<pre><code>chmod o= /etc/postfix/mysql-virtual_*.cf
chgrp postfix /etc/postfix/mysql-virtual_*.cf
</code></pre>

<p>Next, we&rsquo;ll create a user and group for mail handling. All virtual mailboxes will be stored under this user&rsquo;s home directory.</p>

<pre><code>groupadd -g 5000 vmail
useradd -g vmail -u 5000 vmail -d /home/vmail -m
</code></pre>

<p>Issue the following commands to complete the remaining steps required for Postfix configuration. Please be sure to replace &ldquo;server.example.com&rdquo; with the fully qualified domain name you used for your system mail name.</p>

<pre><code>postconf -e 'myhostname = server.example.com'
postconf -e 'mydestination = server.example.com, localhost, localhost.localdomain'
postconf -e 'mynetworks = 127.0.0.0/8'
postconf -e 'message_size_limit = 30720000'
postconf -e 'virtual_alias_domains ='
postconf -e 'virtual_alias_maps = proxy:mysql:/etc/postfix/mysql-virtual_forwardings.cf, mysql:/etc/postfix/mysql-virtual_email2email.cf'
postconf -e 'virtual_mailbox_domains = proxy:mysql:/etc/postfix/mysql-virtual_domains.cf'
postconf -e 'virtual_mailbox_maps = proxy:mysql:/etc/postfix/mysql-virtual_mailboxes.cf'
postconf -e 'virtual_mailbox_base = /home/vmail'
postconf -e 'virtual_uid_maps = static:5000'
postconf -e 'virtual_gid_maps = static:5000'
postconf -e 'smtpd_sasl_auth_enable = yes'
postconf -e 'broken_sasl_auth_clients = yes'
postconf -e 'smtpd_sasl_authenticated_header = yes'
postconf -e 'smtpd_recipient_restrictions = permit_mynetworks, permit_sasl_authenticated, reject_unauth_destination'
postconf -e 'smtpd_use_tls = yes'
postconf -e 'smtpd_tls_cert_file = /etc/postfix/smtpd.cert'
postconf -e 'smtpd_tls_key_file = /etc/postfix/smtpd.key'
postconf -e 'virtual_create_maildirsize = yes'
postconf -e 'virtual_maildir_extended = yes'
postconf -e 'proxy_read_maps = $local_recipient_maps $mydestination $virtual_alias_maps $virtual_alias_domains $virtual_mailbox_maps $virtual_mailbox_domains $relay_recipient_maps $relay_domains $canonical_maps $sender_canonical_maps $recipient_canonical_maps $relocated_maps $transport_maps $mynetworks $virtual_mailbox_limit_maps'
postconf -e virtual_transport=dovecot
postconf -e dovecot_destination_recipient_limit=1
</code></pre>

<p>This completes the configuration for Postfix. Next, you&rsquo;ll make an SSL certificate for the Postfix server that contains values appropriate for your organization.</p>

<h1 id="create-an-ssl-certificate-for-postfix">Create an SSL Certificate for Postfix</h1>

<p>Issue the following commands to create the SSL certificate (the <code>openssl</code> command spans two lines, but should be entered as a single command):</p>

<pre><code>cd /etc/postfix
openssl req -new -outform PEM -out smtpd.cert -newkey rsa:2048 -nodes -keyout smtpd.key -keyform PEM -days 365 -x509
</code></pre>

<p>You will be asked to enter several values similar to the output shown below. Be sure to enter the fully qualified domain name you used for the system mailname in place of &ldquo;server.example.com&rdquo;.</p>

<pre><code>Country Name (2 letter code) [AU]:US
State or Province Name (full name) [Some-State]:New Jersey
Locality Name (eg, city) []:Absecon
Organization Name (eg, company) [Internet Widgits Pty Ltd]:MyCompany, LLC
Organizational Unit Name (eg, section) []:Email Services
Common Name (eg, YOUR name) []:server.example.com
Email Address []:support@example.com
</code></pre>

<p>Set proper permissions for the key file by issuing the following command:</p>

<pre><code>chmod o= /etc/postfix/smtpd.key
</code></pre>

<p>This completes SSL certificate creation for Postfix. Next, you&rsquo;ll configure <code>saslauthd</code> to use MySQL for user authentication.</p>

<h1 id="configure-saslauthd-to-use-mysql">Configure saslauthd to use MySQL</h1>

<p>Issue the following command to create a directory for <code>saslauthd</code>:</p>

<pre><code>mkdir -p /var/spool/postfix/var/run/saslauthd
</code></pre>

<p>Make a backup copy of the <code>/etc/default/saslauthd</code> file by issuing the following command.</p>

<pre><code>cp -a /etc/default/saslauthd /etc/default/saslauthd.bak
</code></pre>

<p>Edit the file <code>/etc/default/saslauthd</code> to match the configuration shown below.</p>

<dl class="file">
<dt>

</dt>
<dd>


<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/etc/default/saslauthd</code></pre></td></tr></table>
</div>
</div>
</dd>
</dl>

<blockquote>
<p>START=yes DESC=&ldquo;SASL Authentication Daemon&rdquo; NAME=&ldquo;saslauthd&rdquo; MECHANISMS=&ldquo;pam&rdquo; MECH_OPTIONS=&ldquo;&rdquo; THREADS=5 OPTIONS=&ldquo;-c -m /var/spool/postfix/var/run/saslauthd -r&rdquo;</p>
</blockquote>

<p>Next, create the file <code>/etc/pam.d/smtp</code> and copy in the following two lines. Be sure to change &ldquo;mail_admin_password&rdquo; to the password you chose for your mail administration MySQL user earlier.</p>

<dl class="file">
<dt>

</dt>
<dd>


<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/etc/pam.d/smtp</code></pre></td></tr></table>
</div>
</div>
</dd>
</dl>

<blockquote>
<p>auth required pam_mysql.so user=mail_admin passwd=mail_admin_password host=127.0.0.1 db=mail table=users usercolumn=email passwdcolumn=password crypt=1 account sufficient pam_mysql.so user=mail_admin passwd=mail_admin_password host=127.0.0.1 db=mail table=users usercolumn=email passwdcolumn=password crypt=1</p>
</blockquote>

<p>Create a file named <code>/etc/postfix/sasl/smtpd.conf</code> with the following contents. Be sure to change &ldquo;mail_admin_password&rdquo; to the password you chose for your mail administration MySQL user earlier.</p>

<dl class="file">
<dt>

</dt>
<dd>


<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/etc/postfix/sasl/smtpd.conf</code></pre></td></tr></table>
</div>
</div>
</dd>
</dl>

<blockquote>
<p>pwcheck_method: saslauthd mech_list: plain login allow_plaintext: true auxprop_plugin: mysql sql_hostnames: 127.0.0.1 sql_user: mail_admin sql_passwd: mail_admin_password sql_database: mail sql_select: select password from users where email = &lsquo;%u&rsquo;</p>
</blockquote>

<p>Set proper permissions and ownership for these configuration files by issuing the following commands:</p>

<pre><code>chmod o= /etc/pam.d/smtp
chmod o= /etc/postfix/sasl/smtpd.conf
</code></pre>

<p>Add the Postfix user to the <code>sasl</code> group and restart Postfix and <code>saslauthd</code> by issuing the following commands:</p>

<pre><code>adduser postfix sasl
service postfix restart
service saslauthd restart
</code></pre>

<p>This completes configuration for <code>saslauthd</code>. Next, you&rsquo;ll configure Dovecot to use MySQL for IMAP/POP3 user authentication.</p>

<h1 id="configure-dovecot">Configure Dovecot</h1>

<p>Edit the file <code>/etc/postfix/master.cf</code> and add the dovecot service to the bottom of the file.</p>

<dl class="file-excerpt">
<dt>

</dt>
<dd>


<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/etc/postfix/master.cf</code></pre></td></tr></table>
</div>
</div>
</dd>
</dl>


<blockquote>
<dl>
<dt>dovecot unix - n n - - pipe</dt>
<dd>flags=DRhu user=vmail:vmail argv=/usr/lib/dovecot/deliver -d \${recipient}</dd>
</dl>

<p>Issue the following command to make a backup copy of your <code>/etc/dovecot/dovecot.conf</code> file.</p>
</blockquote>

<pre><code>cp -a /etc/dovecot/dovecot.conf /etc/dovecot/dovecot.conf.bak
</code></pre>

<p>Replace the contents of the file with the following example, substituting your system&rsquo;s domain name for example.com.</p>

<dl class="file">
<dt>

</dt>
<dd>


<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/etc/dovecot/dovecot.conf</code></pre></td></tr></table>
</div>
</div>
</dd>
</dl>

<blockquote>
<p>protocols = imap imaps pop3 pop3s log_timestamp = &ldquo;%Y-%m-%d %H:%M:%S &ldquo; mail_location = maildir:/home/vmail/%d/%n/Maildir</p>

<p>ssl_cert_file = /etc/ssl/certs/dovecot.pem ssl_key_file = /etc/ssl/private/dovecot.pem</p>

<dl>
<dt>namespace private {</dt>
<dd>separator = . prefix = INBOX. inbox = yes</dd>
</dl>

<p>}</p>

<dl>
<dt>protocol lda {</dt>
<dd>log_path = /home/vmail/dovecot-deliver.log auth_socket_path = /var/run/dovecot/auth-master postmaster_address = <a href="mailto:postmaster@example.com">postmaster@example.com</a> mail_plugins = sieve global_script_path = /home/vmail/globalsieverc</dd>
</dl>

<p>}</p>

<dl>
<dt>protocol pop3 {</dt>
<dd>pop3_uidl_format = %08Xu%08Xv</dd>
</dl>

<p>}</p>

<dl>
<dt>auth default {</dt>
<dd><p>user = root</p>

<p>passdb sql {</p>

<dl>
<dd>args = /etc/dovecot/dovecot-sql.conf</dd>
</dl>

<p>}</p>

<dl>
<dt>userdb static {</dt>
<dd>args = uid=5000 gid=5000 home=/home/vmail/%d/%n allow_all_users=yes</dd>
</dl>

<p>}</p>

<dl>
<dt>socket listen {</dt>
<dd><p>master {</p>

<dl>
<dd>path = /var/run/dovecot/auth-master mode = 0600 user = vmail</dd>
</dl>

<p>}</p>

<dl>
<dt>client {</dt>
<dd>path = /var/spool/postfix/private/auth mode = 0660 user = postfix group = postfix</dd>
</dl>

<p>}</p></dd>
</dl>

<p>}</p></dd>
</dl>

<p>}</p>
</blockquote>

<p>MySQL will be used to store password information, so <code>/etc/dovecot/dovecot-sql.conf</code> must be edited. Issue the following command to make a backup copy of the existing file.</p>

<pre><code>cp -a /etc/dovecot/dovecot-sql.conf /etc/dovecot/dovecot-sql.conf.bak
</code></pre>

<p>Replace the contents of the file with the following example, making sure to replace &ldquo;main_admin_password&rdquo; with your mail password.</p>

<dl class="file">
<dt>

</dt>
<dd>


<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/etc/dovecot/dovecot-sql.conf</code></pre></td></tr></table>
</div>
</div>
</dd>
</dl>

<blockquote>
<p>driver = mysql connect = host=127.0.0.1 dbname=mail user=mail_admin password=mail_admin_password default_pass_scheme = CRYPT password_query = SELECT email as user, password FROM users WHERE email=&lsquo;%u&rsquo;;</p>
</blockquote>

<p>Dovecot has now been configured. You must restart it to make sure it is working properly:</p>

<pre><code>service dovecot restart
</code></pre>

<p>Now check your /var/log/mail.log to make sure dovecot started without errors. Your log should have lines similar to the following:</p>

<dl class="file-excerpt">
<dt>

</dt>
<dd>


<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/var/log/mail.log</code></pre></td></tr></table>
</div>
</div>
</dd>
</dl>


<blockquote>
<p>Jan 21 16:19:17 hostname dovecot: Dovecot v1.2.9 starting up (core dumps disabled) Jan 21 16:19:17 hostname dovecot: auth-worker(default): mysql: Connected to 127.0.0.1 (mail)</p>
</blockquote>

<p>Before testing dovecot, you must change the permissions on <code>/etc/dovecot/dovecot.conf</code> to allow the <code>vmail</code> user to access them:</p>

<pre><code>chgrp vmail /etc/dovecot/dovecot.conf
chmod g+r /etc/dovecot/dovecot.conf
</code></pre>

<p>You can test your POP3 server to make sure it&rsquo;s running properly by issuing the following command.</p>

<pre><code>telnet localhost pop3
</code></pre>

<p>You should see output similar to the following in your terminal:</p>

<pre><code>Trying 127.0.0.1...
Connected to localhost.localdomain.
Escape character is '^]'.
+OK Dovecot ready.
</code></pre>

<p>Enter the command &ldquo;quit&rdquo; to return to your shell. This completes the Dovecot configuration. Next, you&rsquo;ll make sure aliases are configured properly.</p>

<h1 id="configure-mail-aliases">Configure Mail Aliases</h1>

<p>Edit the file <code>/etc/aliases</code>, making sure the &ldquo;postmaster&rdquo; and &ldquo;root&rdquo; directives are set properly for your organization.</p>

<dl class="file">
<dt>

</dt>
<dd>


<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/etc/aliases</code></pre></td></tr></table>
</div>
</div>
</dd>
</dl>

<blockquote>
<p>postmaster: root root: <a href="mailto:postmaster@example.com">postmaster@example.com</a></p>
</blockquote>

<p>After modifying this file, you must run the following commands to update aliases and restart Postfix:</p>

<pre><code>newaliases
service postfix restart
</code></pre>

<p>This completes alias configuration. Next, we&rsquo;ll test Postfix to make sure it&rsquo;s operating properly.</p>

<h1 id="testing-postfix">Testing Postfix</h1>

<p>To test Postfix for SMTP-AUTH and TLS, issue the following command:</p>

<pre><code>telnet localhost 25
</code></pre>

<p>While connected to Postfix, issue the following command:</p>

<pre><code>ehlo localhost
</code></pre>

<p>You should see output similar to the following, with the line &ldquo;250-STARTTLS&rdquo; included:</p>

<pre><code>Trying 127.0.0.1...
Connected to localhost.localdomain.
Escape character is '^]'.
220 hostname.example.com ESMTP Postfix (Ubuntu)
ehlo localhost
250-hostname.example.com
250-PIPELINING
250-SIZE 30720000
250-VRFY
250-ETRN
250-STARTTLS
250-AUTH PLAIN LOGIN
250-AUTH=PLAIN LOGIN
250-ENHANCEDSTATUSCODES
250-8BITMIME
250 DSN
</code></pre>

<p>Issue the command <code>quit</code> to terminate the Postfix connection. Next, we&rsquo;ll populate the MySQL database with domains and email users.</p>

<h1 id="setting-up-domains-and-users">Setting up Domains and Users</h1>

<p>Please note that you&rsquo;ll need to modify the DNS records for any domains that you wish to handle email by adding an MX record that points to your mail server&rsquo;s fully qualified domain name. If MX records already exist for a domain you would like to handle the email for, you&rsquo;ll need to either delete them or set them to a larger priority number than your mail server. Smaller priority numbers indicate higher priority for mail delivery, with &ldquo;0&rdquo; being the highest priority.</p>

<p>We&rsquo;ll use the MySQL shell to add support for the domain &ldquo;example.com&rdquo;, which will have an email account called &ldquo;sales&rdquo;. You should substitute one of your domains for &ldquo;example.com&rdquo; in these statements, along with a strong password for the &ldquo;password&rdquo; entry in the second SQL statement.</p>

<pre><code>mysql -u root -p

USE mail;
INSERT INTO domains (domain) VALUES ('example.com');
INSERT INTO users (email, password) VALUES ('sales@example.com', ENCRYPT('password'));
quit
</code></pre>

<p>You&rsquo;ll need to send a welcome message to new email accounts before they can be accessed via IMAP or POP3. This is because the mailboxes for new users won&rsquo;t be created until an email is received for them. To send a welcome message from the command line, you may use the <code>mailx</code> utility. Issue the following command to send the message.</p>

<pre><code>mailx sales@example.com
</code></pre>

<p>Press <code>Ctrl+D</code> to complete the message. You can safely leave the field for &ldquo;CC:&rdquo; blank. This completes the configuration for a new domain and email user.</p>

<p>Given the possibility for virtual hosting a large number of virtual domains on a single mail system, the username portion of an email address (i.e. before the <code>@</code> sign) is not sufficient to authenticate to the mail server. When email users authenticate to the server, they must supply their email clients with the <em>entire</em> email address created above as their username.</p>

<h1 id="check-your-logs">Check Your Logs</h1>

<p>After you have sent the test mail, you&rsquo;ll want to check your error logs to make sure the mail was delivered. First check your <code>mail.log</code> located in <code>/var/log/mail.log</code>. You should see something similar to the following:</p>

<dl class="file-excerpt">
<dt>

</dt>
<dd>


<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/var/log/mail.log</code></pre></td></tr></table>
</div>
</div>
</dd>
</dl>


<blockquote>
<p>Jan 21 16:23:23 hostname postfix/cleanup[10654]: 5410D86ED: message-id=&lt;<a href="mailto:20110121162323.5410D86ED@hostname.example.com">20110121162323.5410D86ED@hostname.example.com</a>&gt; Jan 21 16:23:23 hostname postfix/qmgr[10644]: 5410D86ED: from=&lt;<a href="mailto:root@hostname.example.com">root@hostname.example.com</a>&gt;, size=398, nrcpt=1 (queue active) Jan 21 16:23:23 hostname postfix/pipe[10659]: 5410D86ED: to=&lt;<a href="mailto:sales@example.com">sales@example.com</a>&gt;, relay=dovecot, delay=0.04, delays=0.03/0.01/0/0.01, dsn=2.0.0, status=sent (delivered via dovecot service) Jan 21 16:23:23 hostname postfix/qmgr[10644]: 5410D86ED: removed</p>
</blockquote>

<p>Next you should check the Dovecot delivery log located in <code>/home/vmail/dovecot-deliver.log</code>. The contents should look similar to the following:</p>

<dl class="file-excerpt">
<dt>

</dt>
<dd>


<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="lnt">1</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">/home/vmail/dovecot-deliver.log</code></pre></td></tr></table>
</div>
</div>
</dd>
</dl>


<blockquote>
<p>2011-01-21 16:23:23 deliver(<a href="mailto:sales@example.com">sales@example.com</a>): Info: msgid=&lt;<a href="mailto:20110121162323.5410D86ED@hostname.example.com">20110121162323.5410D86ED@hostname.example.com</a>&gt;: saved mail to INBOX</p>
</blockquote>

<p>Now you can test to see what the users of your email server would see with their email clients.</p>

<h1 id="test-the-mailbox">Test the Mailbox</h1>

<p>To test the <code>sales@example.com</code> mail box, navigate to the mailbox directory <code>/home/vmail/example.com/sales/Maildir</code> and type the following command:</p>

<pre><code>find
</code></pre>

<p>You should see output similar to the following:</p>

<pre><code>.
./dovecot-uidlist
./cur
./new
./new/1285609582.P6115Q0M368794.li172-137
./dovecot.index
./dovecot.index.log
./tmp
</code></pre>

<p>Now you can test using a mail client. When configuring your local email client, use the full email address for the mailbox you wish to connect to as the username. For this test, we recommend <code>mutt</code>. It is not installed by default so you may need to install it (<code>apt-get install mutt</code>). Type the following command to view user&rsquo;s mail:</p>

<pre><code>mutt -f .
</code></pre>

<p>You may be prompted to create the root mailbox. This is not required. If you see an e-mail in the inbox, you&rsquo;ve successfully configured Postfix, Dovecot, and MySQL to provide email services for virtual domains and users on your Linode. Please consult the &ldquo;More Information&rdquo; section for additional resources that may prove useful in the administration of your new email server.</p>

<h1 id="more-information">More Information</h1>

<p>You may wish to consult the following resources for additional information on this topic. While these are provided in the hope that they will be useful, please note that we cannot vouch for the accuracy or timeliness of externally hosted materials.</p>

<ul>
<li><a href="http://www.postfix.org/MYSQL_README.html">Postfix MySQL Howto</a></li>
<li><a href="http://www.postfix.org/SASL_README.html">Postfix SASL Howto</a></li>
<li><a href="http://wiki.dovecot.org/">Dovecot Documentation Wiki</a></li>
<li><a href="http://dev.mysql.com/doc/">MySQL Documentation</a></li>
</ul>

            

            

<h2>See Also</h2>
<ul>
    
    
    <li><a href="/docs/email/installing-mail-filtering-for-ubuntu-12-04/">Installing Mail Filtering for Ubuntu 12.04 - Deprecated</a></li>
    
    
    
    <li><a href="/docs/email/postfix/email-with-postfix-dovecot-and-mysql-on-ubuntu-10-10-maverick/">Email with Postfix, Dovecot and MySQL on Ubuntu 10.10 (Maverick) - Deprecated</a></li>
    
    
    
    <li><a href="/docs/email/postfix/email-with-postfix-dovecot-and-mysql-on-debian-6-squeeze/">Email with Postfix, Dovecot and MySQL on Debian 6 (Squeeze) - Deprecated</a></li>
    
    
    
    <li><a href="/docs/websites/wikis/ikiwiki-on-ubuntu-10-04-lucid/">Ikiwiki on Ubuntu 10.04 (Lucid) - Deprecated</a></li>
    
    
    
    <li><a href="/docs/websites/wikis/ikiwiki-on-ubuntu-10-10-maverick/">Ikiwiki on Ubuntu 10.10 (Maverick) - Deprecated</a></li>
    
    
</ul>


            
            
<p class="doc-license">This guide is published under a <a href="https://creativecommons.org/licenses/by-nd/4.0">CC BY-ND 4.0</a> license.</p>

          </div>
          <div id="doc-sidebar-container" class="col-sm-3 col-sm-pull-9 hidden-xs">
            <div id="doc-sidebar">
              <div markdown="0" class="doc-sidebar-inner" >
  <div class="input-group">
	<label class="sr-only" for="q">Search guides and tutorials</label>
	<input id="ss_keyword" name="q" type="text" class="form-control" placeholder="Search guides..."/>
	<span class="input-group-btn">
		<button type="submit" class="btn btn-blue" id="ds-search-btn"><span class="glyphicon glyphicon-search"></span></button>
	</span>
</div>
</div>

                
              <div class="doc-sidebar-inner" id="doc-sidebar-toc">
                <h3 id="doc-sidebar-title">In This Guide:</h3>
                <div class="sidebar sidebar-library nav navbar" id="markdown-toc">
                    <nav id="TableOfContents">
<ul>
<li><a href="#set-the-hostname">Set the Hostname</a></li>
<li><a href="#install-required-packages">Install Required Packages</a></li>
<li><a href="#set-up-mysql-for-virtual-domains-and-users">Set up MySQL for Virtual Domains and Users</a></li>
<li><a href="#configure-postfix-to-work-with-mysql">Configure Postfix to work with MySQL</a></li>
<li><a href="#create-an-ssl-certificate-for-postfix">Create an SSL Certificate for Postfix</a></li>
<li><a href="#configure-saslauthd-to-use-mysql">Configure saslauthd to use MySQL</a></li>
<li><a href="#configure-dovecot">Configure Dovecot</a></li>
<li><a href="#configure-mail-aliases">Configure Mail Aliases</a></li>
<li><a href="#testing-postfix">Testing Postfix</a></li>
<li><a href="#setting-up-domains-and-users">Setting up Domains and Users</a></li>
<li><a href="#check-your-logs">Check Your Logs</a></li>
<li><a href="#test-the-mailbox">Test the Mailbox</a></li>
<li><a href="#more-information">More Information</a></li>
</ul>
</nav>
                </div>
              </div>
              
              <div class="library-rss">
  <a href="https://linode.com/docs/index.xml"><i class="fa fa-rss-square"></i> RSS feed</a>
</div>

              <div markdown="0" class="library-signup">
  <form action="//linode.us7.list-manage.com/subscribe/post?u=f9b54ed743e1629877750e3f4&amp;id=68bafea72a&SIGNUP=library-website"
    method="post" class="email-signup" target="_blank" novalidate="">
    <i class="fa fa-envelope"></i>
    <h6>Monthly Guides Update</h6>
    <input name="EMAIL" type="email" class="form-control input-sm"
    placeholder="Email address" required="" />
    <div style="position: absolute; left: -5000px;" aria-hidden="true">
      <input type="text" name="b_f9b54ed743e1629877750e3f4_68bafea72a"
      tabindex="-1" value="">
    </div>
    <div style="display:none">
      <input type="checkbox" value="4" name="group[13][4]"
      id="mce-group[13]-13-0" checked="">
    </div>
    <button type="submit" class="btn btn-blue btn-sm btn-border email-signup" value="Subscribe"
    name="subscribe" id="mc-embedded-subscribe">Sign Up</button>
  </form>
</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<div class="modal fade" id="img-modal" tabindex="-1" role="dialog" aria-labelledby="imageModal" aria-hidden="true">
  <div class="modal-dialog modal-full">
    <div class="modal-content">
      <div class="modal-header">
        <h4 id="img-modal-title" class="modal-title">Image Detail</h4>
      </div>
      <div class="modal-body">
        <img id="img-modal-image" class="img-responsive">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-blue" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

        <footer>
            <section class="neutral some-space">
	<div class="container">
		<div class="row">
			<div class="col-sm-12 text-center">
				<h3>Get paid to write for Linode.</h3>
				<p class="lead">We're always expanding our docs. If you like to help people, can write, and want to earn some cash, learn how you can <a href="/docs/contribute">earn up to $300 for every guide you write</a> and we publish.</p>
			</div>
		</div>
	</div>
</section>
            <section id="pre-footer">
  <div class="container">
    <div class="row">
      <div class="col-sm-7">
        <span>Get started in the Linode Cloud today.</span>
      </div>
      <div class="col-sm-5 pad-xs">
        <a id="btn-signup-bottom" class="btn btn-lg btn-full btn-green" href="https://manager.linode.com/session/signup">Create an Account</a>
      </div>
    </div>
  </div>
</section>

<section class="dark">
  <div class="container">

    <div class="row">
      <div class="footer-col">
        <h5><a href="https://www.linode.com/linodes">Overview</a></h5>
        <ul>
          <li><a href="https://www.linode.com/pricing">Plans &amp; Pricing</a></li>
          <li><a href="https://www.linode.com/linodes">Features</a></li>
          <li><a href="https://www.linode.com/addons">Add-Ons</a></li>
          <li><a href="https://www.linode.com/managed">Managed</a></li>
          <li><a href="https://www.linode.com/professional-services">Professional Services</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h5><a href="https://linode.com/docs/">Resources</a></h5>
        <ul>
          <li><a href="https://linode.com/docs/">Guides &amp; Tutorials</a></li>
          <li><a href="https://www.linode.com/speedtest">Speed Test</a></li>
          <li><a href="https://forum.linode.com/">Forum</a></li>
          <li><a href="https://www.linode.com/chat">Chat</a></li>
          <li><a href="http://status.linode.com/">System Status</a></li>
        </ul>
      </div>


      <div class="footer-col">
        <h5><a href="https://www.linode.com/about">Company</a></h5>
        <ul>
          <li><a href="https://www.linode.com/about">About Us</a></li>
          <li><a href="https://blog.linode.com">Blog</a></li>
          <li><a href="https://www.linode.com/press">Press</a></li>
          <li><a href="https://www.linode.com/referrals">Referral System</a></li>
          <li><a href="https://www.linode.com/careers">Careers</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h5><a href="https://www.linode.com/contact">Contact Us</a></h5>
        <ul>
          <li><a href="tel:+18554546633">855-4-LINODE</a></li>
          <li><a href="tel:+18554546633">(855-454-6633)</a></li>
          <li><a href="tel:+16093807100">Intl.: +1 609-380-7100</a></li>
          <li><a href="mailto:support@linode.com">Email us</a></li>
          <li>
            <br />
            <a target="_blank" href="https://facebook.com/linode"><i class="fa fa-facebook-square"></i></a>
            <a target="_blank" href="https://twitter.com/linode"><i class="fa fa-twitter-square"></i></a>
            <a target="_blank" href="https://plus.google.com/+linode/"><i class="fa fa-google-plus-square"></i></a>
            <a target="_blank" href="https://linkedin.com/company/linode"><i class="fa fa-linkedin-square"></i></a>
            <a target="_blank" href="https://github.com/linode/"><i class="fa fa-github-square"></i></a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</section>

<section class="dark-moar">
  <div class="container">
    <div id="footer-copyright" class="row">
      <div class="col text-center">
        &copy; 2017 Linode, LLC
      </div>

      <div class="col text-center">
        <a href="https://www.linode.com/tos">Terms of Service</a>
      </div>

      <div class="col text-center">
        <a href="https://www.linode.com/privacy">Privacy Policy</a>
      </div>

      <div class="col text-center">
        <a href="https://www.linode.com/security">Security</a>
      </div>

      <div class="col text-center">
        <a href="https://www.linode.com/compliance">Standards &amp; Compliance</a>
      </div>
    </div>
  </div>
</section>

        </footer>
        
             <script src="/docs/build/js/libs.js" type="text/javascript"></script>
<script src="/docs/build/js/main.js" type="text/javascript"></script>

        
        <script type="text/javascript">
$( "img[src^='\/docs\/assets']" ).each(function () {
  $( this ).parent().bind('click', false);
  $( this ).on('click', function(e) {
    var image_title = $( this ).attr('alt');
    var image_href = $( this ).parent().attr('href') || $( this ).attr('src');
    $( '#img-modal-image' ).attr('src', image_href);
    $( '#img-modal-title' ).text(image_title);
    $( '#img-modal' ).modal({ show: true });
  });
});
</script>



        
<script type="text/javascript">
 SidebarScroll.init()
</script>

    </body>
</html>